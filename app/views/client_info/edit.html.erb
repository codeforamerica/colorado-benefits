<% content_for :card_title, t(self_or_other_member_translation_key(".title")) %>

<% content_for :card_body do %>
    <%= fields_for(:form, @form, builder: Cfa::Styleguide::CfaFormBuilder) do |f| %>
      <%= f.cfa_input_field :first_name, t(self_or_other_member_translation_key(".first_name")), help_text: t(self_or_other_member_translation_key(".name_help")) %>
      <%= f.cfa_input_field :last_name, t(self_or_other_member_translation_key(".last_name")), help_text: t(self_or_other_member_translation_key(".name_help")) %>
    <%= f.cfa_date_select :birthday, t(self_or_other_member_translation_key(".birthday")), { options: { start_year: Time.now.year, end_year: 1900 } } %>
    <%= f.cfa_input_field :case_number,
      t(self_or_other_member_translation_key(".case_number")),
      help_text: t(self_or_other_member_translation_key(".case_number_help")),
      options: { placeholder: "1BXXXXX" },
      optional: true %>
    <%= f.cfa_input_field :ssn,
      t(self_or_other_member_translation_key(".ssn")),
      classes: ["form-width--ssn"],
      optional: true,
      notice: t(self_or_other_member_translation_key(".ssn_help")) %>
    <%= f.cfa_input_field :phone_number, t(self_or_other_member_translation_key(".phone_number")), classes: ["form-width--phone"], optional: true %>
    <% end %>

    <script>
        $("#form_case_number").attr("data-intro", "The majority of clients do not know their case numbers. Never rely on this as a method for identifying clients. Providing information on where to find it and what the number looks like is helpful, however.").attr("data-position", "left")
        $("<div class='tooltip tooltip-toggle' data-number='1' title='The majority of clients do not know their case numbers. Never rely on this as a method for identifying clients. Providing information on where to find it and what the number looks like is helpful, however.'>1</div>").insertBefore($("#form_case_number"));


        $(".notice").attr("data-intro", "If you're asking for sensitive information, explain why. 72% of users provided a SSN in our pilot.").attr("data-position", "right")
        $("<div class='tooltip tooltip-toggle tooltip-toggle--right' data-number='2' title=\"If you're asking for sensitive information, explain why. 72% of users provided a SSN in our pilot.\">2</div>").insertBefore($(".notice"));

        $("#form_phone_number").attr("data-intro", "Although it's important for caseworkers to be able to follow up with clients, not everyone has a phone. To serve everyone, this question needs to be optional. In our pilot, 75% of users supplied a phone number.").attr("data-position", "left").val("555-555-5555").css("color", "black")


        $("<div class='tooltip tooltip-toggle' data-number='3' title=\"Although it's important for caseworkers to be able to follow up with clients, not everyone has a phone. To serve everyone, this question needs to be optional. In our pilot, 75% of users supplied a phone number.\">3</div>").insertBefore($("#form_phone_number"));
        $("#form_first_name").val("Malcom")
        $("#form_last_name").val("Reynolds")
        $("#form_birthday_month").val("1")
        $("#form_birthday_day").val("1")
        $("#form_birthday_year").val("1980")
    </script>
<% end %>
